# 文件编码

如果不统一文件编码，会有非常奇怪的问题发生，比如乱码。

## 规则

1. `.cs`文件采用`utf-8-bom` 编码方式
2. `.json`文件采用`utf-8` 编码方式
3. `.csproj`文件采用`utf-8` 编码方式
4. `.sql`文件采用`utf-8-bom` 编码方式
5. `.bat`文件采用`GB2312`编码方式(cmd 默认的字符集为`GBK`)
6. `.md`文件采用`utf-8-bom`编码方式

## 如何解决乱码问题

1.首先在 vscode 中打开该文件，如果显示乱码，点击右下角的编码

![文件编码1](../../img/文件编码1.png ":size=50%")

2.弹出如下窗口，选择`通过编码重新打开`,然后选择编码格式重新打开文件(一般选择 GB2312 或者 GBK)，直到不出现乱码为止

![文件编码2](../../img/文件编码2.png ":size=50%")

3.然后再点击上图所示的`通过编码保存`按钮，选择`utf-8`或者`utf-8 with BOM`保存(保存前一定要确保文件无乱码。utf-8 和 utf-8-bom 都是比较通用的编码方式，不同之处在于,后者多了一个 bom 头，用于标识文件的编码方式)

## 启用 vscode 的编码猜测功能

通过设置 vscode 的编码猜测功能，打开文件时会自动判断文件的编码格式  
如下图所示：

![文件编码3](../../img/文件编码3.png ":size=50%")

## 关于 GB2312、GBK、GBK18030

?> 最早制定的汉字编码是 GB2312，包括 6763 个汉字和 682 个其它符号  
95 年重新修订了编码，命名 GBK1.0，共收录了 21886 个符号。  
之后又推出了 GBK18030 编码，共收录了 27484 个汉字，同时还收录了藏文、蒙文、维吾尔文等主要的少数民族文字，现在 WINDOWS 平台必需要支持 GBK18030 编码。  
按照 GBK18030、GBK、GB2312 的顺序，３种编码是向下兼容，同一个汉字在三个编码方案中是相同的编码。  
一般 GB2312 就够用了。
